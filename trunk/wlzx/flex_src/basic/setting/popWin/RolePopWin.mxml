<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx"  xmlns:flexlib="http://code.google.com/p/flexlib/"   creationComplete="init();" width="800" height="500">
	
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
		<mx:StringValidator id="name_stringValidator" source="{dname}" property="text"  requiredFieldError="岗位名称不能为空"/>
		<mx:StringValidator id="createDate_dateValidator"  source="{creationDate}" property="text" requiredFieldError="岗位创建日期不能为空"/>
		<mx:NumberValidator id="sequence_numberValidator" source="{sequence}" required="false" property="text" integerError="请输入整数值，同级岗位默认排序升序" domain="int"/>
	</fx:Declarations>
	
	<fx:Script> 
		
		<![CDATA[  
		
			import mx.managers.PopUpManager;  
			import mx.validators.Validator;
			import mx.events.ValidationResultEvent;
			import mx.validators.ZipCodeValidatorDomainType;
			import mx.controls.Alert; 
			private var validatorArr:Array;
			
			private function init():void
			{
				validatorArr = new Array();
				validatorArr.push(name_stringValidator);
				validatorArr.push(createDate_dateValidator);
				validatorArr.push(sequence_numberValidator);
			} 
			private function validateForm(evt:MouseEvent):void {
				var validatorErrorArray:Array = Validator.validateAll(validatorArr);;
				var isValidForm:Boolean = validatorErrorArray.length == 0;
				if (isValidForm) {
					Alert.show("岗位信息!");
				} else {
					var err:ValidationResultEvent;
					var errorMessageArray:Array = [];
					for each (err in validatorErrorArray) {
						var errField:String = FormItem(err.currentTarget.source.parent).label
						errorMessageArray.push(errField + ": " + err.message);
					}
					Alert.show(errorMessageArray.join("\n\n"), "请按照以下错误提示信息重新填写", Alert.OK);
				}
			}
			
			private function resetForm(evt:MouseEvent):void
			{
//				e_name.text ="";
//				address1.text = "";
//				address2.text = "";
//				city.text = "";
//				state.selectedIndex = -1;
//				zipCode.text = "";
			} 	
		]]> 
		
	</fx:Script> 
	<s:TitleWindow  title="岗位新增" width="100%" height="100%"  close="PopUpManager.removePopUp(this);">
		<mx:Form width="100%" height="100%" id="dform">
			<mx:FormHeading label="岗位信息" fontSize="15" width="100%" textAlign="center"/>
			
			<mx:FormItem label="岗位名称">
				<mx:TextInput id="dname" width="200"/>
			</mx:FormItem>
			
			<mx:FormItem label="创建日期 ">
				<mx:DateField  id="creationDate" width="200" formatString="YYYY-MM-DD"/>
			</mx:FormItem>
			
			<mx:FormItem label="唯一标识">
				<mx:TextInput id="symbol" width="200"/>
			</mx:FormItem>	
			<mx:FormItem label="同级排序顺序">
				<mx:TextInput id="sequence" width="200"/>
			</mx:FormItem>
			<mx:FormItem label="岗位用户 ">
				<mx:DateField  id="users" width="200" formatString="YYYY-MM-DD"/>
			</mx:FormItem>
			<mx:FormItem label="岗位描述">
				<s:TextArea id="detail" width="400"/>
			</mx:FormItem>
			<mx:FormItem width="100%">
				<mx:HBox verticalAlign="middle" horizontalAlign="right" width="100%">
					<mx:Button label="保存" click="validateForm(event)" />
					<mx:Button label="重置" click="resetForm(event);" />
				</mx:HBox>
			</mx:FormItem> 
		</mx:Form>
		
	</s:TitleWindow>
	
</s:VGroup>
