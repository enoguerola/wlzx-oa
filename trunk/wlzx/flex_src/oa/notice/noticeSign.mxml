<?xml version="1.0" encoding="utf-8"?>
<mx:Module xmlns:fx="http://ns.adobe.com/mxml/2009" 
		   xmlns:s="library://ns.adobe.com/flex/spark" 
		   xmlns:mx="library://ns.adobe.com/flex/mx" layout="absolute" width="100%" height="100%" xmlns:component="system.component.*">
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import mx.managers.PopUpManager;
			import mx.core.FlexGlobals;
			import mx.controls.Button;
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			import mx.rpc.events.*;
			import system.utils.CommonUtils;
			import oa.task.popWin.TaskPopWin;
			import oa.common.popWin.StaffSelectPopWin;
			import oa.notice.popWin.NoticeSignPopWin;
			
			private function openNoticeSignPopWin(event:Event):void{
				var noticeSignPopWin:NoticeSignPopWin=NoticeSignPopWin(PopUpManager.createPopUp(this,NoticeSignPopWin,true));  
				PopUpManager.centerPopUp(noticeSignPopWin);
				noticeSignPopWin.percentHeight=100;
				noticeSignPopWin.percentWidth=100;
				noticeSignPopWin.x=FlexGlobals.topLevelApplication.stage.stageWidth/2-noticeSignPopWin.width/2;
				noticeSignPopWin.y=FlexGlobals.topLevelApplication.stage.stageHeight/2-noticeSignPopWin.height/2;
				
			}
			private function openStaffSelectPopWin(event:Event):void{
				var staffSelectPopWin:StaffSelectPopWin=StaffSelectPopWin(PopUpManager.createPopUp(this,StaffSelectPopWin,true));  
				PopUpManager.centerPopUp(staffSelectPopWin);
				staffSelectPopWin.percentHeight=100;
				staffSelectPopWin.percentWidth=100;
				staffSelectPopWin.x=FlexGlobals.topLevelApplication.stage.stageWidth/2-staffSelectPopWin.width/2;
				staffSelectPopWin.y=FlexGlobals.topLevelApplication.stage.stageHeight/2-staffSelectPopWin.height/2;
				
			}
		]]>
	</fx:Script>
	<s:Panel width="100%" height="100%"  styleName="customPanel" title="公告签批"  borderVisible="false"  dropShadowVisible="false">
		<s:VGroup width="100%" height="100%">
			<s:HGroup verticalAlign="middle" horizontalAlign="right" width="100%">
				<mx:HBox width="100%" height="35" paddingLeft="20"  horizontalGap="10" backgroundColor="#C5E497"  verticalAlign="middle">
					<mx:Label text="|"/>			
					<mx:LinkButton  label="签批[编辑]" icon="@Embed(source='../WebContent/resources/common/tools/button_detail_icon.png')" click="openNoticeSignPopWin(event);"/>
					<mx:Label text="|"/>
					<mx:LinkButton  label="搜索" icon="@Embed(source='../WebContent/resources/common/tools/button_search_icon.png')" />
					<mx:Label text="|"/>
					
				</mx:HBox>
			</s:HGroup>
			<s:HGroup  width="100%" height="100%">
				<mx:VBox  width="300" height="100%" verticalAlign="middle" horizontalAlign="center">
					<mx:Form width="100%" height="100%" >		
						<mx:FormHeading label="搜索条件" fontSize="15" width="100%" textAlign="left"/>
						
						
						<mx:FormItem label="公告类别" width="100%">
							<s:ComboBox width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="优先级 " width="100%">
							<s:ComboBox width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="发布部门" width="100%">
							<s:ComboBox width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="公告主题 " width="100%">
							<s:TextInput width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="签批起始时间" id="beginDateArea">
							<mx:DateField formatString="YYYY-MM-DD" width="100%"/>
						</mx:FormItem>	
						<mx:FormItem label="签批截止时间"  id="endDateArea">
							<mx:DateField formatString="YYYY-MM-DD" width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="签批人">
							<s:TextInput width="100%"  focusIn="openStaffSelectPopWin(event);"/>
						</mx:FormItem>
						<mx:FormItem label="发布人">
							<s:TextInput width="100%"  focusIn="openStaffSelectPopWin(event);"/>
						</mx:FormItem>
						
					</mx:Form>
				</mx:VBox>
				<mx:TabNavigator id="systems"  width="100%" height="100%" tabStyleName="customSubTabStyles"  horizontalGap="1" borderVisible="true" paddingTop="10" paddingBottom="10" paddingLeft="10" paddingRight="10" tabWidth="120" tabHeight="30">
					<s:NavigatorContent label="待签批公告" width="100%" height="100%">
						
									<component:WlzxPageDataGrid width="100%" height="100%" borderVisible="false"   borderAlpha="0.2" verticalAlign="middle" id="mydg">				
										<component:mygridcolumns>
											
										
											<mx:DataGridColumn textAlign="center" headerText="公告类型" dataField="type" width="100">
											</mx:DataGridColumn>
											<mx:DataGridColumn textAlign="center" headerText="公告标题" dataField="name" width="300">
											</mx:DataGridColumn>
											<mx:DataGridColumn textAlign="center" headerText="最后编辑时间" dataField="col3" width="100">
											</mx:DataGridColumn>
											<mx:DataGridColumn textAlign="center" headerText="发布部门" dataField="col3" width="100">
											</mx:DataGridColumn>
											<mx:DataGridColumn textAlign="center" headerText="拟稿人" dataField="col3" width="100">
											</mx:DataGridColumn>
											
											
										</component:mygridcolumns>
									</component:WlzxPageDataGrid>
									
								
					</s:NavigatorContent>
					<s:NavigatorContent label="已签批公告" width="100%" height="100%" >
						<component:WlzxPageDataGrid width="100%" height="100%" borderVisible="false"   borderAlpha="0.2" verticalAlign="middle">				
							<component:mygridcolumns>
								
								
								<mx:DataGridColumn textAlign="center" headerText="公告类型" dataField="type" width="100">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="公告标题" dataField="name" width="200">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="最后编辑时间" dataField="col3" width="100">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="发布部门" dataField="col3" width="100">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="发布人" dataField="col3" width="100">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="签批时间" dataField="col3" width="100">
								</mx:DataGridColumn>
								<mx:DataGridColumn textAlign="center" headerText="签批结果" dataField="col3" width="100">
								</mx:DataGridColumn>
								
							</component:mygridcolumns>
						</component:WlzxPageDataGrid>
					</s:NavigatorContent>
					
				</mx:TabNavigator>
			</s:HGroup>
			
		</s:VGroup>
		
		
	</s:Panel>
</mx:Module>
