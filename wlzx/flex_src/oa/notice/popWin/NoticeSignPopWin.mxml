<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx"  xmlns:valueObjects="system.entity.*" xmlns:flexlib="http://code.google.com/p/flexlib/"   xmlns:component="system.component.*"  width="900" height="600">
	

		<fx:Declarations>
			<!-- 将非可视元素（例如服务、值对象）放在此处 -->
		</fx:Declarations>
		<fx:Script> 
		
			<![CDATA[  
				
				import mx.controls.Alert;
				import mx.core.FlexGlobals;
				import mx.events.ItemClickEvent;
				import mx.events.ValidationResultEvent;
				import mx.formatters.DateFormatter;
				import mx.managers.PopUpManager;
				import mx.rpc.events.*;
				import mx.validators.Validator;
				import mx.validators.ZipCodeValidatorDomainType;
				
				import oa.common.popWin.StaffSelectPopWin;
				
				import system.utils.*;
				private var staffSelectPopWin:StaffSelectPopWin=null;
				private function openStaffSelectPopWin(event:Event):void{
					if(staffSelectPopWin!=null)PopUpManager.removePopUp(staffSelectPopWin);
					staffSelectPopWin=StaffSelectPopWin(PopUpManager.createPopUp(this,StaffSelectPopWin,true));  
					PopUpManager.centerPopUp(staffSelectPopWin);
					staffSelectPopWin.percentHeight=100;
					staffSelectPopWin.percentWidth=100;
					staffSelectPopWin.x=FlexGlobals.topLevelApplication.stage.stageWidth/2-staffSelectPopWin.width/2;
					staffSelectPopWin.y=FlexGlobals.topLevelApplication.stage.stageHeight/2-staffSelectPopWin.height/2;
					
				}
				private function switchSignerArea(event:Event):void{
					var check:CheckBox=event.currentTarget as CheckBox;
					if(check.selected){
						signerArea.visible=true;
					}else{
						signerArea.visible=false;
					}
					
				}
				
			]]> 
			
		</fx:Script> 
	<s:Panel width="100%" height="100%"  styleName="customPanel" title="公告签批"   dropShadowVisible="false" borderVisible="true" borderColor="black">
			<s:VGroup  width="100%" height="100%" gap="0" paddingBottom="10" paddingTop="10" paddingLeft="10" paddingRight="10">
				<s:HGroup  verticalAlign="middle"   horizontalAlign="right" width="100%"  height="30">
					<mx:Label text="|"/>
					<mx:LinkButton  label="通过" icon="@Embed(source='../WebContent/resources/common/tools/button_save_icon.png')"/>
					<mx:Label text="|"/>
					<mx:LinkButton  label="退回" icon="@Embed(source='../WebContent/resources/common/tools/button_abanden_icon.png')"/>
					<mx:Label text="|"/>
					<mx:LinkButton label="关闭" color="0x3380DD" click="PopUpManager.removePopUp(this);this.parentApplication.menuPopWin=null;" textDecoration="underline" fontWeight="normal" />
					
					<s:Label text="|"/>
					
				</s:HGroup>
				<s:VGroup  width="100%" height="100" gap="0" paddingTop="0" paddingBottom="0">
					<mx:Form width="100%" height="100%">
						<mx:FormItem label="签批意见" required="true" width="100%" height="100%">
							<s:TextArea width="100%" height="100%">
								
							</s:TextArea>
						</mx:FormItem>
					</mx:Form>		
				</s:VGroup>
				<s:VGroup  width="100%" height="40%" enabled="false" gap="0" paddingTop="0" paddingBottom="0" top="-20">
					<mx:Form width="100%" height="100%">
						<mx:FormItem label="标题" width="100%" required="true">
							<s:TextInput width="100%"/>
						</mx:FormItem>
						<mx:FormItem label="必读对象" width="100%" required="true">
							<s:TextInput width="100%"  focusIn="openStaffSelectPopWin(event);" editable="false"/>
						</mx:FormItem>
						<mx:FormItem label="可读 对象" width="100%" required="true">
							<s:TextInput width="100%" focusIn="openStaffSelectPopWin(event);" editable="false"/>
						</mx:FormItem>
						<mx:FormItem label="公告类型" width="100%" required="true">
							<s:HGroup  width="100%" gap="0">
								<s:ComboBox/>
								<mx:FormItem label="发布部门" required="true">
									<s:ComboBox/>
								</mx:FormItem>
								<mx:FormItem>
									<s:CheckBox label="紧急"/>
								</mx:FormItem>
								<mx:FormItem>
									<s:CheckBox label="需签批"   change="switchSignerArea(event);"/>
								</mx:FormItem>
								<mx:FormItem label="签批人" visible="false" id="signerArea" required="true">
									<s:TextInput   focusIn="openStaffSelectPopWin(event);" editable="false"/>
								</mx:FormItem>
							</s:HGroup>
						</mx:FormItem>
						<mx:FormItem  width="100%" >
							<s:HGroup  width="100%" verticalAlign="middle" >
								<mx:LinkButton  label="添加附件" icon="@Embed(source='../WebContent/resources/common/tools/button_attachment_icon.png')"/>
							</s:HGroup>
						</mx:FormItem>
						<mx:FormItem label="内容" width="100%" height="100%" required="true">
							<mx:RichTextEditor id="rte" title="Halo RichTextEditor"   headerHeight="0" width="100%" height="100" dropShadowVisible="false" text="" >
							</mx:RichTextEditor>
						</mx:FormItem>
						
					</mx:Form>
				</s:VGroup>
				<s:VGroup  width="100%" height="40%" verticalAlign="middle" horizontalAlign="center" gap="0" paddingTop="0" paddingBottom="0">
					<s:Label  text="签批记录"/>
						
					<component:WlzxPageDataGrid width="100%" height="100%" borderVisible="false"   borderAlpha="0.2" verticalAlign="middle" >				
						<component:mygridcolumns>
							
							<mx:DataGridColumn textAlign="center" headerText="签批人" dataField="type" width="100">
							</mx:DataGridColumn>
							<mx:DataGridColumn textAlign="center" headerText="签批时间" dataField="name" width="100">
							</mx:DataGridColumn>
							
							<mx:DataGridColumn textAlign="center" headerText="签批结果" dataField="col3" width="100">
							</mx:DataGridColumn>
							<mx:DataGridColumn textAlign="center" headerText="签批意见" dataField="col3" width="300">
							</mx:DataGridColumn>
							
							
						</component:mygridcolumns>
					</component:WlzxPageDataGrid>	
				</s:VGroup>
				
				
				
			</s:VGroup>
			
			
	</s:Panel>
		
	
</s:VGroup>
